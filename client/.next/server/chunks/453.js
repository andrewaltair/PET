"use strict";exports.id=453,exports.ids=[453],exports.modules={15372:(e,t,a)=>{a.d(t,{L:()=>g});var s=a(19899),r=a(5507),i=a(54175),n=a(23847),o=a(83217),l=a(55667),c=a(49614),d=a(79104),m=a(43956),u=a(48449),f=a(39503),x=a(65359),p=a(40856);function g({booking:e,userRole:t,onStatusUpdate:a,isUpdating:g}){let v;let[h,N]=(0,r.useState)({open:!1,title:"",description:"",action:()=>{}}),j=t===n.UserRole.OWNER&&(e.status===n.BookingStatus.PENDING||e.status===n.BookingStatus.CONFIRMED),b=t===n.UserRole.OWNER&&e.status===n.BookingStatus.CONFIRMED&&e.paymentStatus===n.PaymentStatus.PENDING,y=t===n.UserRole.PROVIDER&&e.status===n.BookingStatus.PENDING,w=t===n.UserRole.PROVIDER&&e.status===n.BookingStatus.PENDING,O=t===n.UserRole.PROVIDER&&e.status===n.BookingStatus.CONFIRMED;return(0,s.jsxs)(o.Zb,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(o.Ol,{children:s.jsx("div",{className:"flex justify-between items-start",children:(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx(i.default,{href:`/services/${e.service.id}`,className:"text-lg font-semibold text-foreground hover:text-primary transition-colors",children:e.service.title}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(l.C,{variant:(e=>{switch(e){case n.BookingStatus.PENDING:return"secondary";case n.BookingStatus.CONFIRMED:return"default";case n.BookingStatus.COMPLETED:return"outline";case n.BookingStatus.CANCELLED:return"destructive";default:return"secondary"}})(e.status),children:(e=>{switch(e){case n.BookingStatus.PENDING:return"Pending Review";case n.BookingStatus.CONFIRMED:return"Confirmed";case n.BookingStatus.COMPLETED:return"Completed";case n.BookingStatus.CANCELLED:return"Cancelled";default:return e}})(e.status)}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["$",Number(e.service.price).toFixed(2)]})]})]})})}),(0,s.jsxs)(o.aY,{children:[(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium w-16",children:"Time:"}),s.jsx("span",{children:(v=e.bookingTime,new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(v)))})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium w-16",children:"Service:"}),s.jsx("span",{children:e.service.serviceType.toLowerCase().replace("_"," ")})]}),t===n.UserRole.OWNER?(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium w-16",children:"Provider:"}),s.jsx("span",{children:"Provider"})]}):(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium w-16",children:"Client:"}),s.jsx("span",{children:"Client"})]})]}),e.notes&&s.jsx("div",{className:"bg-muted rounded-lg p-3 mb-4",children:s.jsx("p",{className:"text-sm text-foreground",children:e.notes})})]}),s.jsx(o.eW,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Booked on ",new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(e.createdAt))]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[b&&(0,s.jsxs)(c.z,{onClick:()=>{window.location.href=`/booking/${e.id}/pay`},variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Pay Now"]}),j&&(0,s.jsxs)(c.z,{onClick:()=>{N({open:!0,title:"Cancel Booking",description:"Are you sure you want to cancel this booking? This action cannot be undone.",action:()=>a?.(e.id,n.BookingStatus.CANCELLED),variant:"destructive"})},disabled:g,variant:"destructive",size:"sm",children:[s.jsx(u.Z,{className:"mr-2 h-4 w-4"}),g?"...":"Cancel"]}),w&&(0,s.jsxs)(c.z,{onClick:()=>{N({open:!0,title:"Reject Booking",description:"Are you sure you want to reject this booking?",action:()=>a?.(e.id,n.BookingStatus.CANCELLED),variant:"destructive"})},disabled:g,variant:"destructive",size:"sm",children:[s.jsx(f.Z,{className:"mr-2 h-4 w-4"}),g?"...":"Reject"]}),y&&(0,s.jsxs)(c.z,{onClick:()=>{N({open:!0,title:"Confirm Booking",description:"Are you sure you want to confirm this booking?",action:()=>a?.(e.id,n.BookingStatus.CONFIRMED),variant:"default"})},disabled:g,variant:"default",size:"sm",children:[s.jsx(x.Z,{className:"mr-2 h-4 w-4"}),g?"...":"Confirm"]}),O&&(0,s.jsxs)(c.z,{onClick:()=>{N({open:!0,title:"Complete Booking",description:"Mark this booking as completed?",action:()=>a?.(e.id,n.BookingStatus.COMPLETED),variant:"default"})},disabled:g,variant:"outline",size:"sm",children:[s.jsx(p.Z,{className:"mr-2 h-4 w-4"}),g?"...":"Complete"]})]})]})}),s.jsx(d.U,{open:h.open,onOpenChange:e=>N(t=>({...t,open:e})),title:h.title,description:h.description,onConfirm:h.action,variant:h.variant})]})}},80968:(e,t,a)=>{a.d(t,{u:()=>n});var s=a(19899);a(5507);var r=a(83217),i=a(24802);function n({className:e}){return(0,s.jsxs)(r.Zb,{className:`hover:shadow-lg transition-shadow animate-pulse ${e}`,children:[s.jsx(r.Ol,{children:s.jsx("div",{className:"flex justify-between items-start",children:(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx(i.O,{className:"h-6 w-3/4 mb-2"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(i.O,{className:"h-5 w-20 rounded-full"}),s.jsx(i.O,{className:"h-4 w-12"})]})]})})}),(0,s.jsxs)(r.aY,{children:[(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm",children:[s.jsx(i.O,{className:"h-4 w-12 mr-2"}),s.jsx(i.O,{className:"h-4 w-48"})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm",children:[s.jsx(i.O,{className:"h-4 w-14 mr-2"}),s.jsx(i.O,{className:"h-4 w-24"})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm",children:[s.jsx(i.O,{className:"h-4 w-16 mr-2"}),s.jsx(i.O,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"bg-muted rounded-lg p-3 mb-4",children:[s.jsx(i.O,{className:"h-4 w-full"}),s.jsx(i.O,{className:"h-4 w-4/5 mt-1"})]})]}),s.jsx(r.eW,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center w-full",children:[s.jsx(i.O,{className:"h-3 w-24"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx(i.O,{className:"h-8 w-16 rounded-md"}),s.jsx(i.O,{className:"h-8 w-20 rounded-md"})]})]})})]})}},2345:(e,t,a)=>{a.d(t,{i:()=>i});var s=a(19899);a(5507);var r=a(65271);function i({children:e}){let{isAuthenticated:t,isLoading:a}=(0,r.a)();return(console.log("[ProtectedRoute DEBUG] Render - isAuthenticated:",t,"isLoading:",a),a)?(console.log("[ProtectedRoute DEBUG] Still loading, showing loading spinner"),s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})):t?(console.log("[ProtectedRoute DEBUG] Rendering protected content"),s.jsx(s.Fragment,{children:e})):(console.log("[ProtectedRoute DEBUG] Not authenticated, returning null"),null)}},55667:(e,t,a)=>{a.d(t,{C:()=>o});var s=a(19899);a(5507);var r=a(51138),i=a(13096);let n=(0,r.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...a}){return s.jsx("div",{className:(0,i.cn)(n({variant:t}),e),...a})}},78652:(e,t,a)=>{a.d(t,{AG:()=>f,At:()=>u,Jb:()=>d,aG:()=>c,bg:()=>x,gN:()=>m});var s=a(19899),r=a(5507),i=a(52681),n=a(51138),o=a(13096);let l=(0,n.j)("flex items-center gap-1.5",{variants:{variant:{default:"",ghost:"text-muted-foreground hover:text-foreground"}},defaultVariants:{variant:"default"}}),c=r.forwardRef(({className:e,variant:t,separator:a=i.Z,...r},n)=>s.jsx("nav",{ref:n,"aria-label":"breadcrumb",className:(0,o.cn)(l({variant:t}),e),...r}));c.displayName="Breadcrumb";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("ol",{ref:a,className:(0,o.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));d.displayName="BreadcrumbList";let m=r.forwardRef(({className:e,...t},a)=>s.jsx("li",{ref:a,className:(0,o.cn)("inline-flex items-center gap-1.5",e),...t}));m.displayName="BreadcrumbItem";let u=r.forwardRef(({className:e,...t},a)=>s.jsx("a",{ref:a,className:(0,o.cn)("transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));u.displayName="BreadcrumbLink";let f=r.forwardRef(({className:e,...t},a)=>s.jsx("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,o.cn)("font-normal text-foreground",e),...t}));f.displayName="BreadcrumbPage";let x=({children:e,className:t,...a})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:(0,o.cn)("[&>svg]:h-3.5 [&>svg]:w-3.5",t),...a,children:e??s.jsx(i.Z,{})});x.displayName="BreadcrumbSeparator"},79104:(e,t,a)=>{a.d(t,{U:()=>h});var s=a(19899),r=a(5507),i=a(26153),n=a(13096),o=a(49614);let l=i.fC;i.xz;let c=i.h_,d=r.forwardRef(({className:e,...t},a)=>s.jsx(i.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));d.displayName=i.aV.displayName;let m=r.forwardRef(({className:e,...t},a)=>(0,s.jsxs)(c,{children:[s.jsx(d,{}),s.jsx(i.VY,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));m.displayName=i.VY.displayName;let u=({className:e,...t})=>s.jsx("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});u.displayName="AlertDialogHeader";let f=({className:e,...t})=>s.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});f.displayName="AlertDialogFooter";let x=r.forwardRef(({className:e,...t},a)=>s.jsx(i.Dx,{ref:a,className:(0,n.cn)("text-lg font-semibold",e),...t}));x.displayName=i.Dx.displayName;let p=r.forwardRef(({className:e,...t},a)=>s.jsx(i.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));p.displayName=i.dk.displayName;let g=r.forwardRef(({className:e,...t},a)=>s.jsx(i.aU,{ref:a,className:(0,n.cn)((0,o.d)(),e),...t}));g.displayName=i.aU.displayName;let v=r.forwardRef(({className:e,...t},a)=>s.jsx(i.$j,{ref:a,className:(0,n.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));function h({open:e,onOpenChange:t,title:a,description:r,confirmText:i="Confirm",cancelText:n="Cancel",onConfirm:o,onCancel:c,variant:d="default"}){return s.jsx(l,{open:e,onOpenChange:t,children:(0,s.jsxs)(m,{children:[(0,s.jsxs)(u,{children:[s.jsx(x,{children:a}),s.jsx(p,{children:r})]}),(0,s.jsxs)(f,{children:[s.jsx(v,{onClick:()=>{c?.(),t(!1)},children:n}),s.jsx(g,{onClick:()=>{o(),t(!1)},className:"destructive"===d?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:i})]})]})})}v.displayName=i.$j.displayName},24802:(e,t,a)=>{a.d(t,{O:()=>i});var s=a(19899),r=a(13096);function i({className:e,...t}){return s.jsx("div",{className:(0,r.cn)("animate-pulse rounded-md bg-primary/10",e),...t})}},40856:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(84516).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},65359:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(84516).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},43956:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(84516).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},39503:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(84516).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},92640:(e,t,a)=>{var s=Object.create?function(e,t,a,s){void 0===s&&(s=a);var r=Object.getOwnPropertyDescriptor(t,a);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,r)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||s(t,e,a)}(a(81285),t)},81285:(e,t)=>{var a,s,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentStatus=t.BookingStatus=t.ServiceType=t.UserRole=void 0,function(e){e.OWNER="OWNER",e.PROVIDER="PROVIDER"}(a||(t.UserRole=a={})),function(e){e.WALKING="WALKING",e.SITTING="SITTING",e.GROOMING="GROOMING",e.VETERINARIAN_VISIT="VETERINARIAN_VISIT",e.TAXI="TAXI",e.TRAINING="TRAINING"}(s||(t.ServiceType=s={})),function(e){e.PENDING="PENDING",e.CONFIRMED="CONFIRMED",e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED"}(r||(t.BookingStatus=r={})),function(e){e.PENDING="PENDING",e.PAID="PAID",e.FAILED="FAILED"}(i||(t.PaymentStatus=i={}))},23847:(e,t,a)=>{var s=Object.create?function(e,t,a,s){void 0===s&&(s=a);var r=Object.getOwnPropertyDescriptor(t,a);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,r)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]},r=function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||s(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(92640),t),r(a(90858),t),r(a(14188),t)},14188:(e,t,a)=>{var s=Object.create?function(e,t,a,s){void 0===s&&(s=a);var r=Object.getOwnPropertyDescriptor(t,a);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,r)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||s(t,e,a)}(a(44417),t)},44417:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateBookingStatusSchema=t.createBookingSchema=t.updateServiceSchema=t.createServiceSchema=t.updateProfileSchema=t.createProfileSchema=t.loginSchema=t.createUserSchema=void 0;let s=a(27490),r=a(92640);t.createUserSchema=s.z.object({email:s.z.string().email("Invalid email format"),password:s.z.string().min(8,"Password must be at least 8 characters"),role:s.z.nativeEnum(r.UserRole)}),t.loginSchema=s.z.object({email:s.z.string().email("Invalid email format"),password:s.z.string().min(1,"Password is required")}),t.createProfileSchema=s.z.object({userId:s.z.string().uuid(),firstName:s.z.string().min(1).max(50).optional(),lastName:s.z.string().min(1).max(50).optional(),avatarUrl:s.z.string().url().optional(),bio:s.z.string().max(500).optional(),location:s.z.string().max(100).optional()}),t.updateProfileSchema=s.z.object({firstName:s.z.string().min(1).max(50).optional(),lastName:s.z.string().min(1).max(50).optional(),avatarUrl:s.z.string().url().optional(),bio:s.z.string().max(500).optional(),location:s.z.string().max(100).optional()}),t.createServiceSchema=s.z.object({serviceType:s.z.nativeEnum(r.ServiceType),title:s.z.string().min(5).max(100),description:s.z.string().min(10).max(1e3),price:s.z.number().positive(),availability:s.z.record(s.z.array(s.z.string().regex(/^([01]\d|2[0-3]):([0-5]\d)-([01]\d|2[0-3]):([0-5]\d)$/)))}),t.updateServiceSchema=s.z.object({serviceType:s.z.nativeEnum(r.ServiceType).optional(),title:s.z.string().min(5).max(100).optional(),description:s.z.string().min(10).max(1e3).optional(),price:s.z.number().positive().optional(),availability:s.z.record(s.z.array(s.z.string().regex(/^([01]\d|2[0-3]):([0-5]\d)-([01]\d|2[0-3]):([0-5]\d)$/))).optional()}),t.createBookingSchema=s.z.object({bookingTime:s.z.string().datetime(),notes:s.z.string().max(500).optional()}),t.updateBookingStatusSchema=s.z.object({status:s.z.nativeEnum(r.BookingStatus)})},49883:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},71899:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},90858:(e,t,a)=>{var s=Object.create?function(e,t,a,s){void 0===s&&(s=a);var r=Object.getOwnPropertyDescriptor(t,a);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,r)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]},r=function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||s(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(29727),t),r(a(49883),t),r(a(66722),t),r(a(71899),t),r(a(19686),t)},19686:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},66722:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},29727:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})}};