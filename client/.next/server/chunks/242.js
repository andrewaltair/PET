"use strict";exports.id=242,exports.ids=[242],exports.modules={4649:(e,r,t)=>{t.d(r,{T:()=>i});var a=t(19899);function i({size:e="md",className:r=""}){return a.jsx("div",{className:`flex justify-center items-center ${r}`,children:a.jsx("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e]} border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin`})})}t(5507)},34349:(e,r,t)=>{t.d(r,{P:()=>l});var a=t(19899);t(5507);var i=t(83217),s=t(47905),n=t(77895);function l({reviews:e,isLoading:r=!1,emptyMessage:t="No reviews yet"}){return r?a.jsx("div",{className:"space-y-4",children:Array.from({length:3},(e,r)=>(0,a.jsxs)(i.Zb,{className:"animate-pulse",children:[a.jsx(i.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"w-16 h-3 bg-gray-200 rounded"})]})]})}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"w-20 h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"})]})})]},r))}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-4xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t}),a.jsx("p",{className:"text-gray-500",children:"Be the first to leave a review!"})]}):a.jsx("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)(i.Zb,{className:"hover:shadow-md transition-shadow",children:[a.jsx(i.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-blue-600 font-medium text-sm",children:[e.owner.firstName?.[0],e.owner.lastName?.[0]]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-gray-900",children:[e.owner.firstName," ",e.owner.lastName]}),a.jsx("p",{className:"text-sm text-gray-500",children:(0,n.WU)(new Date(e.createdAt),"MMM d, yyyy")})]})]}),a.jsx(s.Z,{value:e.rating,readonly:!0,size:"sm"})]})}),(0,a.jsxs)(i.aY,{children:[e.comment&&a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.comment}),(0,a.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:["Service: ",e.service.title]})]})]},e.id))})}},47905:(e,r,t)=>{t.d(r,{Z:()=>u});var a=t(19899),i=t(5507),s=t(93776),n=t(3617),l=t(68443),o=t(13096);let c=i.forwardRef(({className:e,...r},t)=>a.jsx(n.fC,{className:(0,o.cn)("grid gap-2",e),...r,ref:t}));c.displayName=n.fC.displayName;let d=i.forwardRef(({className:e,...r},t)=>a.jsx(n.ck,{ref:t,className:(0,o.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:a.jsx(n.z$,{className:"flex items-center justify-center",children:a.jsx(l.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));d.displayName=n.ck.displayName;let m={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};function u({value:e=0,onValueChange:r,maxStars:t=5,size:n="md",readonly:l=!1,className:u}){let[v,p]=i.useState(null),y=v??e;return l?(0,a.jsxs)("div",{className:(0,o.cn)("flex items-center space-x-1",u),role:"img","aria-label":`Rating: ${e.toFixed(1)} out of ${t} stars`,children:[Array.from({length:t},(e,r)=>{let t=r+1<=y;return a.jsx(s.Z,{className:(0,o.cn)(m[n],t?"fill-yellow-400 text-yellow-400":"text-gray-300"),"aria-hidden":"true"},r)}),a.jsx("span",{className:"ml-2 text-sm text-gray-600","aria-hidden":"true",children:e.toFixed(1)})]}):(0,a.jsxs)("fieldset",{className:(0,o.cn)("flex items-center space-x-1",u),children:[(0,a.jsxs)("legend",{className:"sr-only",children:["Rate this item out of ",t," stars"]}),(0,a.jsxs)(c,{value:e.toString(),onValueChange:e=>r?.(parseInt(e)),className:"flex items-center space-x-1",children:[Array.from({length:t},(e,r)=>{let t=r+1,i=t<=y;return(0,a.jsxs)("div",{className:"relative",onMouseEnter:()=>p(t),onMouseLeave:()=>p(null),children:[a.jsx(d,{value:t.toString(),id:`star-${t}`,className:"sr-only","aria-describedby":`star-${t}-description`}),a.jsx("label",{htmlFor:`star-${t}`,className:"cursor-pointer block",children:a.jsx(s.Z,{className:(0,o.cn)(m[n],"transition-colors",i?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-400"),"aria-hidden":"true"})}),(0,a.jsxs)("span",{id:`star-${t}-description`,className:"sr-only",children:[t," star",1!==t?"s":""]})]},r)}),a.jsx("span",{className:"ml-2 text-sm text-gray-600 min-w-[2rem]","aria-live":"polite","aria-atomic":"true",children:y>0?y:""})]})]})}},76982:(e,r,t)=>{t.d(r,{ZU:()=>u,Zs:()=>c,kt:()=>d,rr:()=>m});var a=t(7346),i=t(1206),s=t(57623),n=t(67765),l=t(13114);let o={all:["reviews"],service:e=>[...o.all,"service",e],provider:e=>[...o.all,"provider",e],canReview:e=>[...o.all,"can-review",e]};function c(e){return(0,a.a)({queryKey:o.service(e),queryFn:()=>n.rg.getServiceReviews(e),staleTime:3e5,enabled:!!e&&!1})}function d(e){return(0,a.a)({queryKey:o.provider(e),queryFn:()=>n.rg.getProviderReviews(e),staleTime:3e5,enabled:!!e&&!1})}function m(e){return(0,a.a)({queryKey:o.canReview(e),queryFn:()=>n.rg.canReviewBooking(e),staleTime:6e4,enabled:!!e&&!1})}function u(){let e=(0,i.NL)();return(0,s.D)({mutationFn:({bookingId:e,reviewData:r})=>n.rg.createReview(e,r),onSuccess:(r,t)=>{e.invalidateQueries({queryKey:o.service(r.serviceId)}),e.invalidateQueries({queryKey:o.provider(r.providerId)}),e.invalidateQueries({queryKey:o.canReview(t.bookingId)}),e.invalidateQueries({queryKey:["services"]}),e.invalidateQueries({queryKey:["profile"]}),(0,l.Am)({title:"Review submitted",description:"Thank you for your feedback!"})},onError:e=>{let r=e?.response?.data?.error||"Failed to submit review";(0,l.Am)({title:"Error",description:r,variant:"destructive"})}})}},87431:(e,r,t)=>{t.d(r,{Z:()=>a});let a=(0,t(84516).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3550:(e,r,t)=>{t.d(r,{Z:()=>a});let a=(0,t(84516).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},92640:(e,r,t)=>{var a=Object.create?function(e,r,t,a){void 0===a&&(a=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,a,i)}:function(e,r,t,a){void 0===a&&(a=t),e[a]=r[t]};Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||a(r,e,t)}(t(81285),r)},81285:(e,r)=>{var t,a,i,s;Object.defineProperty(r,"__esModule",{value:!0}),r.PaymentStatus=r.BookingStatus=r.ServiceType=r.UserRole=void 0,function(e){e.OWNER="OWNER",e.PROVIDER="PROVIDER"}(t||(r.UserRole=t={})),function(e){e.WALKING="WALKING",e.SITTING="SITTING",e.GROOMING="GROOMING",e.VETERINARIAN_VISIT="VETERINARIAN_VISIT",e.TAXI="TAXI",e.TRAINING="TRAINING"}(a||(r.ServiceType=a={})),function(e){e.PENDING="PENDING",e.CONFIRMED="CONFIRMED",e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED"}(i||(r.BookingStatus=i={})),function(e){e.PENDING="PENDING",e.PAID="PAID",e.FAILED="FAILED"}(s||(r.PaymentStatus=s={}))},23847:(e,r,t)=>{var a=Object.create?function(e,r,t,a){void 0===a&&(a=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,a,i)}:function(e,r,t,a){void 0===a&&(a=t),e[a]=r[t]},i=function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||a(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),i(t(92640),r),i(t(90858),r),i(t(14188),r)},14188:(e,r,t)=>{var a=Object.create?function(e,r,t,a){void 0===a&&(a=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,a,i)}:function(e,r,t,a){void 0===a&&(a=t),e[a]=r[t]};Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||a(r,e,t)}(t(44417),r)},44417:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.updateBookingStatusSchema=r.createBookingSchema=r.updateServiceSchema=r.createServiceSchema=r.updateProfileSchema=r.createProfileSchema=r.loginSchema=r.createUserSchema=void 0;let a=t(27490),i=t(92640);r.createUserSchema=a.z.object({email:a.z.string().email("Invalid email format"),password:a.z.string().min(8,"Password must be at least 8 characters"),role:a.z.nativeEnum(i.UserRole)}),r.loginSchema=a.z.object({email:a.z.string().email("Invalid email format"),password:a.z.string().min(1,"Password is required")}),r.createProfileSchema=a.z.object({userId:a.z.string().uuid(),firstName:a.z.string().min(1).max(50).optional(),lastName:a.z.string().min(1).max(50).optional(),avatarUrl:a.z.string().url().optional(),bio:a.z.string().max(500).optional(),location:a.z.string().max(100).optional()}),r.updateProfileSchema=a.z.object({firstName:a.z.string().min(1).max(50).optional(),lastName:a.z.string().min(1).max(50).optional(),avatarUrl:a.z.string().url().optional(),bio:a.z.string().max(500).optional(),location:a.z.string().max(100).optional()}),r.createServiceSchema=a.z.object({serviceType:a.z.nativeEnum(i.ServiceType),title:a.z.string().min(5).max(100),description:a.z.string().min(10).max(1e3),price:a.z.number().positive(),availability:a.z.record(a.z.array(a.z.string().regex(/^([01]\d|2[0-3]):([0-5]\d)-([01]\d|2[0-3]):([0-5]\d)$/)))}),r.updateServiceSchema=a.z.object({serviceType:a.z.nativeEnum(i.ServiceType).optional(),title:a.z.string().min(5).max(100).optional(),description:a.z.string().min(10).max(1e3).optional(),price:a.z.number().positive().optional(),availability:a.z.record(a.z.array(a.z.string().regex(/^([01]\d|2[0-3]):([0-5]\d)-([01]\d|2[0-3]):([0-5]\d)$/))).optional()}),r.createBookingSchema=a.z.object({bookingTime:a.z.string().datetime(),notes:a.z.string().max(500).optional()}),r.updateBookingStatusSchema=a.z.object({status:a.z.nativeEnum(i.BookingStatus)})},49883:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},71899:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},90858:(e,r,t)=>{var a=Object.create?function(e,r,t,a){void 0===a&&(a=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,a,i)}:function(e,r,t,a){void 0===a&&(a=t),e[a]=r[t]},i=function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||a(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),i(t(29727),r),i(t(49883),r),i(t(66722),r),i(t(71899),r),i(t(19686),r)},19686:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},66722:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},29727:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})}};