(()=>{var e={};e.id=243,e.ids=[243],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},48273:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>l,routeModule:()=>m,tree:()=>u}),r(72196),r(22399),r(12874);var n=r(27105),s=r(15265),i=r(90157),o=r.n(i),a=r(44665),c={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>a[e]);r.d(t,c);let u=["",{children:["booking",{children:["[bookingId]",{children:["pay",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,72196)),"C:\\Users\\User\\Desktop\\GITHUB\\PET\\client\\src\\app\\booking\\[bookingId]\\pay\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,22399)),"C:\\Users\\User\\Desktop\\GITHUB\\PET\\client\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,12874,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Users\\User\\Desktop\\GITHUB\\PET\\client\\src\\app\\booking\\[bookingId]\\pay\\page.tsx"],d="/booking/[bookingId]/pay/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/booking/[bookingId]/pay/page",pathname:"/booking/[bookingId]/pay",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},84472:(e,t,r)=>{Promise.resolve().then(r.bind(r,1429))},1429:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ec});var n,s=r(19899),i=r(5507),o=r(76153),a=r(65271),c=r(25220),u=r(23847),l=r(2345),d=r(4649),p=r(49614),m=r(83217),f=r(48026),h=r(93818),y=r(87431),g=r(43956),v=r(40856),b=r(32726);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,s=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=s){var i=[],o=!0,a=!1;try{for(s=s.call(e);!(o=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,n=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var N=function(e,t,r){var n=!!r,s=i.useRef(r);i.useEffect(function(){s.current=r},[r]),i.useEffect(function(){if(!n||!e)return function(){};var r=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,r),function(){e.off(t,r)}},[n,t,e,s])},w=function(e){var t=i.useRef(e);return i.useEffect(function(){t.current=e},[e]),t.current},k=function(e){return null!==e&&"object"===P(e)},C="[object Object]",_=function e(t,r){if(!k(t)||!k(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var s=Object.prototype.toString.call(t)===C;if(s!==(Object.prototype.toString.call(r)===C))return!1;if(!s&&!n)return t===r;var i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(var a={},c=0;c<i.length;c+=1)a[i[c]]=!0;for(var u=0;u<o.length;u+=1)a[o[u]]=!0;var l=Object.keys(a);return l.length===i.length&&l.every(function(n){return e(t[n],r[n])})},I=function(e,t,r){return k(e)?Object.keys(e).reduce(function(n,s){var i=!k(t)||!_(e[s],t[s]);return r.includes(s)?(i&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),n):i?j(j({},n||{}),{},S({},s,e[s])):n},null):null},R="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;if(null===e||k(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error(t)},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;if(k(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return T(e,t)})};var r=T(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},M=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"5.2.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.2.0",url:"https://stripe.com/docs/stripe-js/react"}))},z=i.createContext(null);z.displayName="ElementsContext";var D=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},U=function(e){var t=e.stripe,r=e.options,n=e.children,s=i.useMemo(function(){return A(t)},[t]),o=E(i.useState(function(){return{stripe:"sync"===s.tag?s.stripe:null,elements:"sync"===s.tag?s.stripe.elements(r):null}}),2),a=o[0],c=o[1];i.useEffect(function(){var e=!0,t=function(e){c(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==s.tag||a.stripe?"sync"!==s.tag||a.stripe||t(s.stripe):s.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[s,a,r]);var u=w(t);i.useEffect(function(){null!==u&&u!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,t]);var l=w(r);return i.useEffect(function(){if(a.elements){var e=I(r,l,["clientSecret","fonts"]);e&&a.elements.update(e)}},[r,l,a.elements]),i.useEffect(function(){M(a.stripe)},[a.stripe]),i.createElement(z.Provider,{value:a},n)};U.propTypes={stripe:b.any,options:b.object},b.func.isRequired;var L=i.createContext(null);L.displayName="CheckoutContext",b.any,b.shape({clientSecret:b.oneOfType([b.string,b.instanceOf(Promise)]).isRequired,elementsOptions:b.object}).isRequired;var q=function(e){var t=i.useContext(L),r=i.useContext(z);if(!t)return D(r,e);if(!r)return t;throw Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."))},B=["mode"],G=function(e,t){var r="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),n=t?function(e){q("mounts <".concat(r,">"));var t=e.id,n=e.className;return i.createElement("div",{id:t,className:n})}:function(t){var n,s=t.id,o=t.className,a=t.options,c=void 0===a?{}:a,u=t.onBlur,l=t.onFocus,d=t.onReady,p=t.onChange,m=t.onEscape,f=t.onClick,h=t.onLoadError,y=t.onLoaderStart,g=t.onNetworksChange,v=t.onConfirm,b=t.onCancel,x=t.onShippingAddressChange,j=t.onShippingRateChange,P=t.onSavedPaymentMethodRemove,S=t.onSavedPaymentMethodUpdate,O=q("mounts <".concat(r,">")),k="elements"in O?O.elements:null,C="checkoutState"in O?O.checkoutState:null,_=(null==C?void 0:C.type)==="success"||(null==C?void 0:C.type)==="loading"?C.sdk:null,R=E(i.useState(null),2),T=R[0],A=R[1],M=i.useRef(null),z=i.useRef(null);N(T,"blur",u),N(T,"focus",l),N(T,"escape",m),N(T,"click",f),N(T,"loaderror",h),N(T,"loaderstart",y),N(T,"networkschange",g),N(T,"confirm",v),N(T,"cancel",b),N(T,"shippingaddresschange",x),N(T,"shippingratechange",j),N(T,"savedpaymentmethodremove",P),N(T,"savedpaymentmethodupdate",S),N(T,"change",p),d&&(n="expressCheckout"===e?d:function(){d(T)}),N(T,"ready",n),i.useLayoutEffect(function(){if(null===M.current&&null!==z.current&&(k||_)){var t=null;if(_)switch(e){case"payment":t=_.createPaymentElement(c);break;case"address":if("mode"in c){var n=c.mode,s=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(c,B);if("shipping"===n)t=_.createShippingAddressElement(s);else if("billing"===n)t=_.createBillingAddressElement(s);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":t=_.createExpressCheckoutElement(c);break;case"currencySelector":t=_.createCurrencySelectorElement();break;case"taxId":t=_.createTaxIdElement(c);break;default:throw Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else k&&(t=k.create(e,c));M.current=t,A(t),t&&t.mount(z.current)}},[k,_,c]);var D=w(c);return i.useEffect(function(){if(M.current){var e=I(c,D,["paymentRequest"]);e&&"update"in M.current&&M.current.update(e)}},[c,D]),i.useLayoutEffect(function(){return function(){if(M.current&&"function"==typeof M.current.destroy)try{M.current.destroy(),M.current=null}catch(e){}}},[]),i.createElement("div",{id:s,className:o,ref:z})};return n.propTypes={id:b.string,className:b.string,onChange:b.func,onBlur:b.func,onFocus:b.func,onReady:b.func,onEscape:b.func,onClick:b.func,onLoadError:b.func,onLoaderStart:b.func,onNetworksChange:b.func,onConfirm:b.func,onCancel:b.func,onShippingAddressChange:b.func,onShippingRateChange:b.func,onSavedPaymentMethodRemove:b.func,onSavedPaymentMethodUpdate:b.func,options:b.object},n.displayName=r,n.__elementType=e,n},F="undefined"==typeof window;i.createContext(null).displayName="EmbeddedCheckoutProviderContext",G("auBankAccount",F),G("card",F),G("cardNumber",F),G("cardExpiry",F),G("cardCvc",F),G("iban",F);var Z=G("payment",F);G("expressCheckout",F),G("paymentRequestButton",F),G("linkAuthentication",F),G("address",F),G("shippingAddress",F),G("paymentMethodMessaging",F),G("taxId",F);var W="clover",Y="https://js.stripe.com",$="".concat(Y,"/").concat(W,"/stripe.js"),V=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,K=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,H=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Y,'"]')),t=0;t<e.length;t++){var r,n=e[t];if(r=n.src,V.test(r)||K.test(r))return n}return null},X=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat($).concat(t);var n=document.head||document.body;if(!n)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},Q=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"8.1.0",startTime:t})},J=null,ee=null,et=null,er=function(e,t,r){if(null===e)return null;var n,s=t[0].match(/^pk_test/),i=3===(n=e.version)?"v3":n;s&&i!==W&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("8.1.0"," expected Stripe.js@").concat(W,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=e.apply(void 0,t);return Q(o,r),o},en=!1,es=function(){return n||(n=(null!==J?J:(J=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r,n=H();n?n&&null!==et&&null!==ee&&(n.removeEventListener("load",et),n.removeEventListener("error",ee),null===(r=n.parentNode)||void 0===r||r.removeChild(n),n=X(null)):n=X(null),et=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},ee=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},n.addEventListener("load",et),n.addEventListener("error",ee)}catch(e){t(e);return}})).catch(function(e){return J=null,Promise.reject(e)})).catch(function(e){return n=null,Promise.reject(e)}))};function ei({onSuccess:e,amount:t}){var r;let n=q("calls useStripe()").stripe,o=(r="calls useElements()",D(i.useContext(z),r)).elements,[a,c]=(0,i.useState)(!1),[u,l]=(0,i.useState)(null),[m,y]=(0,i.useState)(!1),g=async t=>{if(t.preventDefault(),!n||!o)return;c(!0),l(null);let{error:r}=await o.submit();if(r){l(r.message||"An error occurred during payment processing."),c(!1);return}let{error:s}=await n.confirmPayment({elements:o,confirmParams:{return_url:`${window.location.origin}/dashboard/my-bookings`},redirect:"if_required"});s?(l(s.message||"Payment failed. Please try again."),c(!1)):(y(!0),c(!1),setTimeout(()=>{e()},2e3))};return m?(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx(v.Z,{className:"mx-auto h-12 w-12 text-green-500 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Payment Successful!"}),s.jsx("p",{className:"text-gray-600",children:"Your booking has been confirmed and payment processed successfully."})]}):(0,s.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Z,{options:{layout:"tabs"}})}),u&&(0,s.jsxs)(f.bZ,{variant:"destructive",children:[s.jsx(h.Z,{className:"h-4 w-4"}),s.jsx(f.X,{children:u})]}),s.jsx(p.z,{type:"submit",disabled:!n||a,className:"w-full",size:"lg",children:a?(0,s.jsxs)(s.Fragment,{children:[s.jsx(d.T,{size:"sm",className:"mr-2"}),"Processing Payment..."]}):`Pay $${t.toFixed(2)}`}),s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By completing this payment, you agree to our terms of service and payment policies."})]})}Promise.resolve().then(function(){return es()}).catch(function(e){en||console.warn(e)});let eo=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];en=!0;var n=Date.now();return es().then(function(e){return er(e,t,n)})}(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY);function ea(){let{bookingId:e}=(0,o.useParams)(),{user:t}=(0,a.a)(),r=(0,o.useRouter)(),[n,l]=(0,i.useState)(""),[b,x]=(0,i.useState)(null),j=(0,c.aS)();return t?.role!==u.UserRole.OWNER?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDEAB"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Only pet owners can make payments for bookings."}),s.jsx(p.z,{onClick:()=>r.push("/dashboard/my-bookings"),children:"Back to My Bookings"})]})}):j.isPending?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(d.T,{size:"lg",className:"mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Preparing payment..."})]})}):j.error?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[s.jsx(h.Z,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Setup Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:j.error instanceof Error?j.error.message:"Failed to setup payment. Please try again."}),s.jsx(p.z,{onClick:()=>r.push("/dashboard/my-bookings"),children:"Back to My Bookings"})]})}):n&&b?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>r.push("/dashboard/my-bookings"),className:"mb-4",children:[s.jsx(y.Z,{className:"mr-2 h-4 w-4"}),"Back to My Bookings"]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complete Payment"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Secure payment processing powered by Stripe"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(m.Zb,{children:[(0,s.jsxs)(m.Ol,{children:[(0,s.jsxs)(m.ll,{className:"flex items-center gap-2",children:[s.jsx(g.Z,{className:"h-5 w-5"}),"Payment Summary"]}),s.jsx(m.SZ,{children:"Review your booking details before completing payment"})]}),s.jsx(m.aY,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Service Amount"}),(0,s.jsxs)("span",{className:"text-sm",children:["$",b.amount.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsx("span",{className:"text-sm font-medium",children:"Platform Fee (10%)"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["$",b.platformFee.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 text-lg font-semibold",children:[s.jsx("span",{children:"Total Amount"}),(0,s.jsxs)("span",{children:["$",b.amount.toFixed(2)]})]})]})})]}),(0,s.jsxs)(m.Zb,{children:[(0,s.jsxs)(m.Ol,{children:[s.jsx(m.ll,{children:"Payment Information"}),s.jsx(m.SZ,{children:"Your payment information is secure and encrypted"})]}),s.jsx(m.aY,{children:s.jsx(U,{options:{clientSecret:n,appearance:{theme:"stripe"}},stripe:eo,children:s.jsx(ei,{onSuccess:()=>{r.push("/dashboard/my-bookings")},amount:b.amount})})})]}),(0,s.jsxs)(f.bZ,{children:[s.jsx(v.Z,{className:"h-4 w-4"}),s.jsx(f.X,{children:"Your payment is secured by Stripe's industry-leading security measures. We do not store your payment information on our servers."})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(d.T,{size:"lg"})})}function ec(){return s.jsx(l.i,{children:s.jsx(ea,{})})}},4649:(e,t,r)=>{"use strict";r.d(t,{T:()=>s});var n=r(19899);function s({size:e="md",className:t=""}){return n.jsx("div",{className:`flex justify-center items-center ${t}`,children:n.jsx("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e]} border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin`})})}r(5507)},2345:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});var n=r(19899);r(5507);var s=r(65271);function i({children:e}){let{isAuthenticated:t,isLoading:r}=(0,s.a)();return(console.log("[ProtectedRoute DEBUG] Render - isAuthenticated:",t,"isLoading:",r),r)?(console.log("[ProtectedRoute DEBUG] Still loading, showing loading spinner"),n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})):t?(console.log("[ProtectedRoute DEBUG] Rendering protected content"),n.jsx(n.Fragment,{children:e})):(console.log("[ProtectedRoute DEBUG] Not authenticated, returning null"),null)}},48026:(e,t,r)=>{"use strict";r.d(t,{X:()=>u,bZ:()=>c});var n=r(19899),s=r(5507),i=r(51138),o=r(13096);let a=(0,i.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=s.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:(0,o.cn)(a({variant:t}),e),...r}));c.displayName="Alert",s.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:(0,o.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let u=s.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:(0,o.cn)("text-sm [&_p]:leading-relaxed",e),...t}));u.displayName="AlertDescription"},25220:(e,t,r)=>{"use strict";r.d(t,{B9:()=>a,Wd:()=>c,aS:()=>u});var n=r(7346),s=r(1206),i=r(57623),o=r(67765);function a(){return(0,n.a)({queryKey:["stripe","account-status"],queryFn:async()=>(await o.hi.get("/stripe/connect/account-status")).data,enabled:!1})}function c(){let e=(0,s.NL)();return(0,i.D)({mutationFn:async()=>(await o.hi.post("/stripe/connect/onboard")).data.data,onSuccess:()=>{e.invalidateQueries({queryKey:["stripe","account-status"]})}})}function u(){return(0,i.D)({mutationFn:async e=>(await o.hi.post(`/bookings/${e}/create-payment-intent`)).data.data})}},87431:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(84516).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},40856:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(84516).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},43956:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(84516).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},76153:(e,t,r)=>{"use strict";var n=r(81545);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},59936:(e,t,r)=>{"use strict";var n=r(12024);function s(){}function i(){}i.resetWarningCache=s,e.exports=function(){function e(e,t,r,s,i,o){if(o!==n){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:s};return r.PropTypes=r,r}},32726:(e,t,r)=>{e.exports=r(59936)()},12024:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},92640:(e,t,r)=>{"use strict";var n=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)}(r(81285),t)},81285:(e,t)=>{"use strict";var r,n,s,i;Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentStatus=t.BookingStatus=t.ServiceType=t.UserRole=void 0,function(e){e.OWNER="OWNER",e.PROVIDER="PROVIDER"}(r||(t.UserRole=r={})),function(e){e.WALKING="WALKING",e.SITTING="SITTING",e.GROOMING="GROOMING",e.VETERINARIAN_VISIT="VETERINARIAN_VISIT",e.TAXI="TAXI",e.TRAINING="TRAINING"}(n||(t.ServiceType=n={})),function(e){e.PENDING="PENDING",e.CONFIRMED="CONFIRMED",e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED"}(s||(t.BookingStatus=s={})),function(e){e.PENDING="PENDING",e.PAID="PAID",e.FAILED="FAILED"}(i||(t.PaymentStatus=i={}))},23847:(e,t,r)=>{"use strict";var n=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},s=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(92640),t),s(r(90858),t),s(r(14188),t)},14188:(e,t,r)=>{"use strict";var n=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)}(r(44417),t)},44417:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateBookingStatusSchema=t.createBookingSchema=t.updateServiceSchema=t.createServiceSchema=t.updateProfileSchema=t.createProfileSchema=t.loginSchema=t.createUserSchema=void 0;let n=r(27490),s=r(92640);t.createUserSchema=n.z.object({email:n.z.string().email("Invalid email format"),password:n.z.string().min(8,"Password must be at least 8 characters"),role:n.z.nativeEnum(s.UserRole)}),t.loginSchema=n.z.object({email:n.z.string().email("Invalid email format"),password:n.z.string().min(1,"Password is required")}),t.createProfileSchema=n.z.object({userId:n.z.string().uuid(),firstName:n.z.string().min(1).max(50).optional(),lastName:n.z.string().min(1).max(50).optional(),avatarUrl:n.z.string().url().optional(),bio:n.z.string().max(500).optional(),location:n.z.string().max(100).optional()}),t.updateProfileSchema=n.z.object({firstName:n.z.string().min(1).max(50).optional(),lastName:n.z.string().min(1).max(50).optional(),avatarUrl:n.z.string().url().optional(),bio:n.z.string().max(500).optional(),location:n.z.string().max(100).optional()}),t.createServiceSchema=n.z.object({serviceType:n.z.nativeEnum(s.ServiceType),title:n.z.string().min(5).max(100),description:n.z.string().min(10).max(1e3),price:n.z.number().positive(),availability:n.z.record(n.z.array(n.z.string().regex(/^([01]\d|2[0-3]):([0-5]\d)-([01]\d|2[0-3]):([0-5]\d)$/)))}),t.updateServiceSchema=n.z.object({serviceType:n.z.nativeEnum(s.ServiceType).optional(),title:n.z.string().min(5).max(100).optional(),description:n.z.string().min(10).max(1e3).optional(),price:n.z.number().positive().optional(),availability:n.z.record(n.z.array(n.z.string().regex(/^([01]\d|2[0-3]):([0-5]\d)-([01]\d|2[0-3]):([0-5]\d)$/))).optional()}),t.createBookingSchema=n.z.object({bookingTime:n.z.string().datetime(),notes:n.z.string().max(500).optional()}),t.updateBookingStatusSchema=n.z.object({status:n.z.nativeEnum(s.BookingStatus)})},49883:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90858:(e,t,r)=>{"use strict";var n=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},s=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(29727),t),s(r(49883),t),s(r(66722),t),s(r(71899),t),s(r(19686),t)},19686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},66722:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29727:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},72196:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(2772).createProxy)(String.raw`C:\Users\User\Desktop\GITHUB\PET\client\src\app\booking\[bookingId]\pay\page.tsx#default`)},57623:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var n=r(5507),s=r(41922),i=r(16641),o=r(99028),a=r(67973),c=class extends o.l{#e;#t=void 0;#r;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,a.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.Ym)(t.mutationKey)!==(0,a.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#i()}mutate(e,t){return this.#n=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#s(){let e=this.#r?.state??(0,s.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){i.Vr.batch(()=>{if(this.#n&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#n.onSuccess?.(e.data,t,r,n),this.#n.onSettled?.(e.data,null,t,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,t,r,n),this.#n.onSettled?.(void 0,e.error,t,r,n))}this.listeners.forEach(e=>{e(this.#t)})})}},u=r(1206);function l(e,t){let r=(0,u.NL)(t),[s]=n.useState(()=>new c(r,e));n.useEffect(()=>{s.setOptions(e)},[s,e]);let o=n.useSyncExternalStore(n.useCallback(e=>s.subscribe(i.Vr.batchCalls(e)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),l=n.useCallback((e,t)=>{s.mutate(e,t).catch(a.ZT)},[s]);if(o.error&&(0,a.L3)(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[489,490,695],()=>r(48273));module.exports=n})();