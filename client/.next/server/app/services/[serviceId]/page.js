(()=>{var e={};e.id=100,e.ids=[100],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},647:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(22929),s(22399),s(12874);var r=s(27105),a=s(15265),i=s(90157),n=s.n(i),l=s(44665),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["services",{children:["[serviceId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,22929)),"C:\\Users\\User\\Desktop\\GITHUB\\PET\\client\\src\\app\\services\\[serviceId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22399)),"C:\\Users\\User\\Desktop\\GITHUB\\PET\\client\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,12874,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\User\\Desktop\\GITHUB\\PET\\client\\src\\app\\services\\[serviceId]\\page.tsx"],u="/services/[serviceId]/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/services/[serviceId]/page",pathname:"/services/[serviceId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},35304:(e,t,s)=>{Promise.resolve().then(s.bind(s,49106))},49106:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var r=s(19899),a=s(5507),i=s(54175),n=s(76153),l=s(65271),o=s(18637),d=s(76982),c=s(23847),u=s(4649),m=s(29322),p=s(18740),x=s(49614),f=s(47334),g=s(90360),h=s(88197),v=s(83217);function y({service:e,isOpen:t,onSuccess:s,onCancel:i}){let{user:n}=(0,l.a)(),o=(0,m.MK)(),[d,y]=(0,a.useState)({bookingTime:new Date,notes:""}),[b,j]=(0,a.useState)(void 0),[N,w]=(0,a.useState)(""),[k,D]=(0,a.useState)({});if(!n)return r.jsx(p.Vq,{open:t,onOpenChange:i,children:(0,r.jsxs)(p.cZ,{className:"sm:max-w-md",children:[(0,r.jsxs)(p.fK,{children:[r.jsx(p.$N,{children:"Sign In Required"}),r.jsx(p.Be,{children:"You need to be signed in as a pet owner to book services."})]}),(0,r.jsxs)("div",{className:"flex gap-3 justify-center",children:[r.jsx(x.z,{asChild:!0,children:r.jsx("a",{href:"/login",children:"Sign In"})}),r.jsx(x.z,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/register?role=OWNER",children:"Sign Up"})})]})]})});if(n.role!==c.UserRole.OWNER)return r.jsx(p.Vq,{open:t,onOpenChange:i,children:(0,r.jsxs)(p.cZ,{className:"sm:max-w-md",children:[(0,r.jsxs)(p.fK,{children:[r.jsx(p.$N,{children:"Access Denied"}),r.jsx(p.Be,{children:"Only pet owners can book services. Service providers cannot book their own services."})]}),r.jsx(x.z,{variant:"outline",asChild:!0,children:r.jsx("a",{href:"/dashboard",children:"Go to Dashboard"})})]})});let S=(e,t)=>{y(s=>({...s,[e]:t})),k[e]&&D(t=>({...t,[e]:""}))},_=()=>{let e={};if(b){if(N){let t=new Date(b),[s,r]=N.split(":").map(Number);t.setHours(s,r,0,0),t<=new Date&&(e.bookingTime="Booking time must be in the future")}else e.bookingTime="Please select a time slot"}else e.bookingTime="Please select a date";return d.notes&&d.notes.length>500&&(e.notes="Notes must be less than 500 characters"),D(e),0===Object.keys(e).length},R=async t=>{if(t.preventDefault(),_())try{let t=new Date(b),[r,a]=N.split(":").map(Number);t.setHours(r,a,0,0),await o.mutateAsync({serviceId:e.id,bookingData:{...d,bookingTime:t}}),s?.()}catch(e){}};return(()=>{let t=[],s=new Date;for(let r=1;r<=7;r++){let a=new Date(s);a.setDate(a.getDate()+r),a.setHours(0,0,0,0);let i=a.toLocaleDateString("en-US",{weekday:"long"}),n=i.toLowerCase().slice(0,3),l=e.availability[n];l&&l.forEach(e=>{let[r]=e.split("-"),[n,l]=r.split(":").map(Number),o=new Date(a);o.setHours(n,l,0,0),o>s&&t.push({value:o.toISOString(),label:`${i}, ${a.toLocaleDateString()} at ${r}`})})}})(),r.jsx(p.Vq,{open:t,onOpenChange:i,children:(0,r.jsxs)(p.cZ,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[(0,r.jsxs)(p.fK,{children:[r.jsx(p.$N,{children:"Book Service"}),(0,r.jsxs)(p.Be,{children:["Request a booking for ",e.title]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-4",children:(0,r.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[(0,r.jsxs)(v.Zb,{children:[(0,r.jsxs)(v.Ol,{className:"pb-3",children:[r.jsx(v.ll,{className:"text-base",children:e.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"by Provider"})]}),r.jsx(v.aY,{className:"pt-0",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Price"}),(0,r.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["$",Number(e.price).toFixed(2)]})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(f._,{children:"Select Date *"}),r.jsx(h.f,{mode:"single",selected:b,onSelect:j,disabled:e=>e<new Date,className:"rounded-md border"}),k.bookingTime&&r.jsx("p",{className:"text-destructive text-sm",children:k.bookingTime})]}),b&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(f._,{children:"Select Time Slot *"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(t=>{let s=t.toLocaleDateString("en-US",{weekday:"short"}).toLowerCase(),r=e.availability[s]||[];return["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"].map(e=>{let t=r.some(t=>{let[s,r]=t.split("-");return e>=s&&e<=r});return{time:e,available:t}})})(b).map(e=>(0,r.jsxs)(x.z,{type:"button",variant:N===e.time?"default":"outline",size:"sm",onClick:()=>{w(e.time);let t=new Date(b),[s,r]=e.time.split(":").map(Number);t.setHours(s,r,0,0),S("bookingTime",t.toISOString())},disabled:!e.available,children:[e.time,!e.available&&" (Unavailable)"]},e.time))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(f._,{htmlFor:"notes",children:"Additional Notes"}),r.jsx(g.g,{id:"notes",value:d.notes,onChange:e=>S("notes",e.target.value),placeholder:"Any special requests or information for the provider...",rows:3}),k.notes&&r.jsx("p",{className:"text-destructive text-sm",children:k.notes}),(0,r.jsxs)("p",{className:"text-muted-foreground text-sm",children:[d.notes?.length||0,"/500 characters"]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[r.jsx(x.z,{type:"button",variant:"outline",onClick:()=>{i?.()},disabled:o.isPending,className:"flex-1",children:"Cancel"}),r.jsx(x.z,{type:"submit",disabled:o.isPending||!b||!N,className:"flex-1",children:o.isPending?(0,r.jsxs)(r.Fragment,{children:[r.jsx(u.T,{size:"sm",className:"mr-2"}),"Booking..."]}):"Request Booking"})]})]})})]})})}var b=s(34349),j=s(78652),N=s(13114),w=s(87431),k=s(19118),D=s(88408),S=s(3550),_=s(89471),R=s(65790);function I(){var e;let{user:t}=(0,l.a)(),s=(0,n.useRouter)(),m=(0,n.useParams)().serviceId,{toast:p}=(0,N.pm)(),{data:f,isLoading:g,error:h}=(0,o.G2)(m),{data:v,isLoading:I}=(0,d.Zs)(m),[A,P]=(0,a.useState)(!1);if(g)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(u.T,{size:"lg"})});if(h)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-600 text-lg font-semibold mb-2",children:"Failed to load service"}),r.jsx("p",{className:"text-gray-600 mb-4",children:h instanceof Error?h.message:"Unknown error occurred"}),(0,r.jsxs)(x.z,{onClick:()=>s.push("/services"),variant:"outline",children:[r.jsx(w.Z,{className:"mr-2 h-4 w-4"}),"Back to Services"]})]})});if(!f)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The service you're looking for doesn't exist or has been removed."}),(0,r.jsxs)(x.z,{onClick:()=>s.push("/services"),variant:"outline",children:[r.jsx(w.Z,{className:"mr-2 h-4 w-4"}),"Back to Services"]})]})});let C=t?.role===c.UserRole.PROVIDER&&t.id===f.provider.id;return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[r.jsx("div",{className:"mb-6",children:r.jsx(j.aG,{children:(0,r.jsxs)(j.Jb,{children:[r.jsx(j.gN,{children:r.jsx(j.At,{href:"/",children:"Home"})}),r.jsx(j.bg,{}),r.jsx(j.gN,{children:r.jsx(j.At,{href:"/services",children:"Services"})}),r.jsx(j.bg,{}),r.jsx(j.gN,{children:r.jsx(j.AG,{children:f.title})})]})})}),r.jsx("div",{className:"mb-8",children:r.jsx("button",{onClick:()=>s.push("/services"),className:"text-blue-600 hover:text-blue-800 mb-4 inline-block",children:"‚Üê Back to Services"})}),r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("span",{className:"px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:(e=f.serviceType,({[c.ServiceType.WALKING]:"Dog Walking",[c.ServiceType.SITTING]:"Pet Sitting",[c.ServiceType.GROOMING]:"Grooming",[c.ServiceType.VETERINARIAN_VISIT]:"Vet Visit",[c.ServiceType.TAXI]:"Pet Taxi",[c.ServiceType.TRAINING]:"Training"})[e]||e)}),(0,r.jsxs)("span",{className:"text-3xl font-bold text-green-600",children:["$",Number(f.price).toFixed(2)]})]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:f.title})]}),C&&r.jsx(i.default,{href:`/dashboard/services/edit/${f.id}`,children:(0,r.jsxs)(x.z,{variant:"outline",children:[r.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"Edit Service"]})})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Service Provider"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-semibold",children:f.provider.email?.[0].toUpperCase()})}),r.jsx("div",{children:r.jsx("p",{className:"font-medium text-gray-900",children:"Provider"})})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"About This Service"}),r.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:f.description})]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Availability"}),(e=>{let t=Object.keys(e);if(0===t.length)return r.jsx("p",{className:"text-gray-600",children:"No availability information provided"});let s={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"};return r.jsx("div",{className:"space-y-3",children:t.map(t=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[r.jsx("span",{className:"font-medium text-gray-900 capitalize",children:s[t]||t}),r.jsx("div",{className:"flex flex-wrap gap-1",children:e[t].map(e=>r.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:e},e))})]},t))})})(f.availability)]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Reviews"}),r.jsx(b.P,{reviews:v||[],isLoading:I,emptyMessage:"No reviews yet for this service"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[t?.role===c.UserRole.OWNER&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(x.z,{onClick:()=>P(!0),variant:"default",className:"flex-1",children:[r.jsx(D.Z,{className:"mr-2 h-4 w-4"}),"Book Service"]}),(0,r.jsxs)(x.z,{onClick:()=>{p({title:"Contact Feature Coming Soon",description:"The contact feature will be implemented in the booking system. Please use the booking form to get in touch with the provider.",duration:5e3})},variant:"outline",className:"flex-1",children:[r.jsx(S.Z,{className:"mr-2 h-4 w-4"}),"Contact Provider"]})]}),!t&&(0,r.jsxs)("div",{className:"w-full text-center",children:[r.jsx("p",{className:"text-gray-600 mb-3",children:"Sign in to book this service"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx(i.default,{href:"/login",className:"flex-1",children:(0,r.jsxs)(x.z,{variant:"default",className:"w-full",children:[r.jsx(_.Z,{className:"mr-2 h-4 w-4"}),"Sign In"]})}),r.jsx(i.default,{href:"/register",className:"flex-1",children:(0,r.jsxs)(x.z,{variant:"outline",className:"w-full",children:[r.jsx(R.Z,{className:"mr-2 h-4 w-4"}),"Sign Up"]})})]})]})]})]})}),A&&f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Book Service"}),r.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx("span",{className:"text-2xl",children:"\xd7"})})]}),r.jsx(y,{isOpen:A,service:f,onSuccess:()=>{P(!1),s.push("/dashboard/my-bookings")},onCancel:()=>P(!1)})]})})})]})})}function A(){return r.jsx(I,{})}},78652:(e,t,s)=>{"use strict";s.d(t,{AG:()=>p,At:()=>m,Jb:()=>c,aG:()=>d,bg:()=>x,gN:()=>u});var r=s(19899),a=s(5507),i=s(52681),n=s(51138),l=s(13096);let o=(0,n.j)("flex items-center gap-1.5",{variants:{variant:{default:"",ghost:"text-muted-foreground hover:text-foreground"}},defaultVariants:{variant:"default"}}),d=a.forwardRef(({className:e,variant:t,separator:s=i.Z,...a},n)=>r.jsx("nav",{ref:n,"aria-label":"breadcrumb",className:(0,l.cn)(o({variant:t}),e),...a}));d.displayName="Breadcrumb";let c=a.forwardRef(({className:e,...t},s)=>r.jsx("ol",{ref:s,className:(0,l.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));c.displayName="BreadcrumbList";let u=a.forwardRef(({className:e,...t},s)=>r.jsx("li",{ref:s,className:(0,l.cn)("inline-flex items-center gap-1.5",e),...t}));u.displayName="BreadcrumbItem";let m=a.forwardRef(({className:e,...t},s)=>r.jsx("a",{ref:s,className:(0,l.cn)("transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));m.displayName="BreadcrumbLink";let p=a.forwardRef(({className:e,...t},s)=>r.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:(0,l.cn)("font-normal text-foreground",e),...t}));p.displayName="BreadcrumbPage";let x=({children:e,className:t,...s})=>r.jsx("li",{role:"presentation","aria-hidden":"true",className:(0,l.cn)("[&>svg]:h-3.5 [&>svg]:w-3.5",t),...s,children:e??r.jsx(i.Z,{})});x.displayName="BreadcrumbSeparator"},88197:(e,t,s)=>{"use strict";s.d(t,{f:()=>m});var r=s(19899),a=s(5507),i=s(16252),n=s(52681),l=s(41963),o=s(41527),d=s(75795),c=s(13096),u=s(49614);function m({className:e,classNames:t,showOutsideDays:s=!0,captionLayout:a="label",buttonVariant:m="ghost",formatters:x,components:f,...g}){let h=(0,o.U)();return r.jsx(d._,{showOutsideDays:s,className:(0,c.cn)("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:a,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...x},classNames:{root:(0,c.cn)("w-fit",h.root),months:(0,c.cn)("relative flex flex-col gap-4 md:flex-row",h.months),month:(0,c.cn)("flex w-full flex-col gap-4",h.month),nav:(0,c.cn)("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",h.nav),button_previous:(0,c.cn)((0,u.d)({variant:m}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",h.button_previous),button_next:(0,c.cn)((0,u.d)({variant:m}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",h.button_next),month_caption:(0,c.cn)("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",h.month_caption),dropdowns:(0,c.cn)("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",h.dropdowns),dropdown_root:(0,c.cn)("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",h.dropdown_root),dropdown:(0,c.cn)("bg-popover absolute inset-0 opacity-0",h.dropdown),caption_label:(0,c.cn)("select-none font-medium","label"===a?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",h.caption_label),table:"w-full border-collapse",weekdays:(0,c.cn)("flex",h.weekdays),weekday:(0,c.cn)("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",h.weekday),week:(0,c.cn)("mt-2 flex w-full",h.week),week_number_header:(0,c.cn)("w-[--cell-size] select-none",h.week_number_header),week_number:(0,c.cn)("text-muted-foreground select-none text-[0.8rem]",h.week_number),day:(0,c.cn)("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",h.day),range_start:(0,c.cn)("bg-accent rounded-l-md",h.range_start),range_middle:(0,c.cn)("rounded-none",h.range_middle),range_end:(0,c.cn)("bg-accent rounded-r-md",h.range_end),today:(0,c.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",h.today),outside:(0,c.cn)("text-muted-foreground aria-selected:text-muted-foreground",h.outside),disabled:(0,c.cn)("text-muted-foreground opacity-50",h.disabled),hidden:(0,c.cn)("invisible",h.hidden),...t},components:{Root:({className:e,rootRef:t,...s})=>r.jsx("div",{"data-slot":"calendar",ref:t,className:(0,c.cn)(e),...s}),Chevron:({className:e,orientation:t,...s})=>"left"===t?r.jsx(i.Z,{className:(0,c.cn)("size-4",e),...s}):"right"===t?r.jsx(n.Z,{className:(0,c.cn)("size-4",e),...s}):r.jsx(l.Z,{className:(0,c.cn)("size-4",e),...s}),DayButton:p,WeekNumber:({children:e,...t})=>r.jsx("td",{...t,children:r.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:e})}),...f},...g})}function p({className:e,day:t,modifiers:s,...i}){let n=(0,o.U)(),l=a.useRef(null);return a.useEffect(()=>{s.focused&&l.current?.focus()},[s.focused]),r.jsx(u.z,{ref:l,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":s.selected&&!s.range_start&&!s.range_end&&!s.range_middle,"data-range-start":s.range_start,"data-range-end":s.range_end,"data-range-middle":s.range_middle,className:(0,c.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",n.day,e),...i})}},18740:(e,t,s)=>{"use strict";s.d(t,{$N:()=>x,Be:()=>f,Vq:()=>o,cN:()=>p,cZ:()=>u,fK:()=>m});var r=s(19899),a=s(5507),i=s(56551),n=s(48449),l=s(13096);let o=i.fC;i.xz;let d=i.h_;i.x8;let c=a.forwardRef(({className:e,...t},s)=>r.jsx(i.aV,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c.displayName=i.aV.displayName;let u=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(d,{children:[r.jsx(c,{}),(0,r.jsxs)(i.VY,{ref:a,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,r.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(n.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=i.VY.displayName;let m=({className:e,...t})=>r.jsx("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});m.displayName="DialogHeader";let p=({className:e,...t})=>r.jsx("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});p.displayName="DialogFooter";let x=a.forwardRef(({className:e,...t},s)=>r.jsx(i.Dx,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));x.displayName=i.Dx.displayName;let f=a.forwardRef(({className:e,...t},s)=>r.jsx(i.dk,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));f.displayName=i.dk.displayName},47334:(e,t,s)=>{"use strict";s.d(t,{_:()=>d});var r=s(19899),a=s(5507),i=s(10883),n=s(51138),l=s(13096);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},s)=>r.jsx(i.f,{ref:s,className:(0,l.cn)(o(),e),...t}));d.displayName=i.f.displayName},90360:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(19899),a=s(5507),i=s(13096);let n=a.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));n.displayName="Textarea"},29322:(e,t,s)=>{"use strict";s.d(t,{Lt:()=>p,MK:()=>m,dA:()=>u});var r=s(7346),a=s(1206),i=s(57623),n=s(67765),l=s(23847),o=s(13114);let d={all:["owner-bookings"],lists:()=>[...d.all,"list"],list:()=>[...d.lists()]},c=[{id:"booking-1",ownerId:"user-1",serviceId:"service-1",bookingTime:new Date(Date.now()+864e5),status:"PENDING",paymentStatus:"PENDING",notes:"Please bring treats for my dog",createdAt:new Date,updatedAt:new Date,owner:{id:"user-1",email:"user@example.com",role:"OWNER",createdAt:new Date,updatedAt:new Date},service:{id:"service-1",providerId:"provider-1",serviceType:"DOG_WALKING",title:"Evening Dog Walk",description:"A relaxing evening walk for your dog",price:25,availability:{},createdAt:new Date,updatedAt:new Date,provider:{id:"provider-1",email:"provider@example.com",role:"PROVIDER",createdAt:new Date,updatedAt:new Date}}},{id:"booking-2",ownerId:"user-1",serviceId:"service-2",bookingTime:new Date(Date.now()+1728e5),status:"CONFIRMED",paymentStatus:"PENDING",notes:"My cat needs grooming",createdAt:new Date,updatedAt:new Date,owner:{id:"user-1",email:"user@example.com",role:"OWNER",createdAt:new Date,updatedAt:new Date},service:{id:"service-2",providerId:"provider-2",serviceType:"PET_GROOMING",title:"Cat Grooming Service",description:"Professional grooming for cats",price:40,availability:{},createdAt:new Date,updatedAt:new Date,provider:{id:"provider-2",email:"provider2@example.com",role:"PROVIDER",createdAt:new Date,updatedAt:new Date}}}];function u(){return(0,r.a)({queryKey:d.list(),queryFn:async()=>{try{return await n.wQ.getMyBookingsAsOwner()}catch(e){return console.log("Using mock booking data due to API failure:",e),{bookings:c}}},staleTime:12e4,retry:(e,t)=>t?.response?.status!==401&&t?.response?.status!==403&&e<3,enabled:!1})}function m(){let e=(0,a.NL)();return(0,i.D)({mutationFn:({serviceId:e,bookingData:t})=>n.wQ.createBooking(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:d.lists()}),e.invalidateQueries({queryKey:["services","detail",t.booking.serviceId]}),(0,o.Am)({title:"Success",description:"Booking created successfully! The provider will review your request."})},onError:e=>{let t=e?.response?.data?.error||"Failed to create booking";(0,o.Am)({title:"Error",description:t,variant:"destructive"})}})}function p(){let e=(0,a.NL)();return(0,i.D)({mutationFn:e=>n.wQ.updateBookingStatus(e,{status:l.BookingStatus.CANCELLED}),onSuccess:t=>{e.setQueryData(d.list(),e=>e?{...e,bookings:e.bookings.map(e=>e.id===t.booking.id?t.booking:e)}:e),e.invalidateQueries({queryKey:["provider-bookings"]}),(0,o.Am)({title:"Success",description:"Booking cancelled successfully"})},onError:e=>{let t=e?.response?.data?.error||"Failed to cancel booking";(0,o.Am)({title:"Error",description:t,variant:"destructive"})}})}},18637:(e,t,s)=>{"use strict";s.d(t,{$_:()=>m,G2:()=>p,LR:()=>u,bu:()=>c,v_:()=>d});var r=s(7346),a=s(1206),i=s(57623),n=s(67765),l=s(13114);let o={all:["services"],lists:()=>[...o.all,"list"],list:e=>[...o.lists(),e],myServices:()=>[...o.all,"my"],details:()=>[...o.all,"detail"],detail:e=>[...o.details(),e]};function d(){return(0,r.a)({queryKey:o.myServices(),queryFn:n.RW.getMyServices,staleTime:12e4,retry:(e,t)=>t?.response?.status!==401&&t?.response?.status!==403&&e<3})}function c(){let e=(0,a.NL)();return(0,i.D)({mutationFn:e=>n.RW.createService(e),onSuccess:t=>{e.invalidateQueries({queryKey:o.myServices()}),e.invalidateQueries({queryKey:o.lists()}),(0,l.Am)({title:"Success",description:"Service created successfully"})},onError:e=>{let t=e?.response?.data?.error||"Failed to create service";(0,l.Am)({title:"Error",description:t,variant:"destructive"})}})}function u(){let e=(0,a.NL)();return(0,i.D)({mutationFn:({serviceId:e,serviceData:t})=>n.RW.updateService(e,t),onSuccess:(t,{serviceId:s})=>{e.setQueryData(o.myServices(),e=>e?e.map(e=>e.id===s?t:e):e),e.setQueryData(o.detail(s),t),e.invalidateQueries({queryKey:o.lists()}),(0,l.Am)({title:"Success",description:"Service updated successfully"})},onError:e=>{let t=e?.response?.data?.error||"Failed to update service";(0,l.Am)({title:"Error",description:t,variant:"destructive"})}})}function m(){let e=(0,a.NL)();return(0,i.D)({mutationFn:e=>n.RW.deleteService(e),onSuccess:(t,s)=>{e.setQueryData(o.myServices(),e=>e?e.filter(e=>e.id!==s):e),e.removeQueries({queryKey:o.detail(s)}),e.invalidateQueries({queryKey:o.lists()}),(0,l.Am)({title:"Success",description:"Service deleted successfully"})},onError:e=>{let t=e?.response?.data?.error||"Failed to delete service";(0,l.Am)({title:"Error",description:t,variant:"destructive"})}})}function p(e){return(0,r.a)({queryKey:o.detail(e),queryFn:()=>n.RW.getService(e),enabled:!!e,staleTime:3e5,retry:(e,t)=>t?.response?.status!==404&&e<3})}},41963:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(84516).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},89471:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(84516).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},19118:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(84516).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},65790:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(84516).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},22929:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2772).createProxy)(String.raw`C:\Users\User\Desktop\GITHUB\PET\client\src\app\services\[serviceId]\page.tsx#default`)},56551:(e,t,s)=>{"use strict";s.d(t,{Dx:()=>er,VY:()=>es,aV:()=>et,dk:()=>ea,fC:()=>X,h_:()=>ee,jm:()=>$,p8:()=>j,x8:()=>ei,xz:()=>J});var r=s(5507),a=s(78762),i=s(29932),n=s(4076),l=s(74273),o=s(89639),d=s(25626),c=s(9290),u=s(52566),m=s(84290),p=s(17738),x=s(20518),f=s(82293),g=s(81452),h=s(74036),v=s(19899),y="Dialog",[b,j]=(0,n.b)(y),[N,w]=b(y),k=e=>{let{__scopeDialog:t,children:s,open:a,defaultOpen:i,onOpenChange:n,modal:d=!0}=e,c=r.useRef(null),u=r.useRef(null),[m,p]=(0,o.T)({prop:a,defaultProp:i??!1,onChange:n,caller:y});return(0,v.jsx)(N,{scope:t,triggerRef:c,contentRef:u,contentId:(0,l.M)(),titleId:(0,l.M)(),descriptionId:(0,l.M)(),open:m,onOpenChange:p,onOpenToggle:r.useCallback(()=>p(e=>!e),[p]),modal:d,children:s})};k.displayName=y;var D="DialogTrigger",S=r.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,n=w(D,s),l=(0,i.e)(t,n.triggerRef);return(0,v.jsx)(p.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":V(n.open),...r,ref:l,onClick:(0,a.Mj)(e.onClick,n.onOpenToggle)})});S.displayName=D;var _="DialogPortal",[R,I]=b(_,{forceMount:void 0}),A=e=>{let{__scopeDialog:t,forceMount:s,children:a,container:i}=e,n=w(_,t);return(0,v.jsx)(R,{scope:t,forceMount:s,children:r.Children.map(a,e=>(0,v.jsx)(m.z,{present:s||n.open,children:(0,v.jsx)(u.h,{asChild:!0,container:i,children:e})}))})};A.displayName=_;var P="DialogOverlay",C=r.forwardRef((e,t)=>{let s=I(P,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,i=w(P,e.__scopeDialog);return i.modal?(0,v.jsx)(m.z,{present:r||i.open,children:(0,v.jsx)(E,{...a,ref:t})}):null});C.displayName=P;var T=(0,h.Z8)("DialogOverlay.RemoveScroll"),E=r.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,a=w(P,s);return(0,v.jsx)(f.Z,{as:T,allowPinchZoom:!0,shards:[a.contentRef],children:(0,v.jsx)(p.WV.div,{"data-state":V(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),q="DialogContent",z=r.forwardRef((e,t)=>{let s=I(q,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,i=w(q,e.__scopeDialog);return(0,v.jsx)(m.z,{present:r||i.open,children:i.modal?(0,v.jsx)(O,{...a,ref:t}):(0,v.jsx)(F,{...a,ref:t})})});z.displayName=q;var O=r.forwardRef((e,t)=>{let s=w(q,e.__scopeDialog),n=r.useRef(null),l=(0,i.e)(t,s.contentRef,n);return r.useEffect(()=>{let e=n.current;if(e)return(0,g.Ry)(e)},[]),(0,v.jsx)(M,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.Mj)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.Mj)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,a.Mj)(e.onFocusOutside,e=>e.preventDefault())})}),F=r.forwardRef((e,t)=>{let s=w(q,e.__scopeDialog),a=r.useRef(!1),i=r.useRef(!1);return(0,v.jsx)(M,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||s.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let r=t.target;s.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),M=r.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:l,...o}=e,u=w(q,s),m=r.useRef(null),p=(0,i.e)(t,m);return(0,x.EW)(),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.M,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:l,children:(0,v.jsx)(d.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":V(u.open),...o,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(H,{titleId:u.titleId}),(0,v.jsx)(Y,{contentRef:m,descriptionId:u.descriptionId})]})]})}),B="DialogTitle",Z=r.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,a=w(B,s);return(0,v.jsx)(p.WV.h2,{id:a.titleId,...r,ref:t})});Z.displayName=B;var G="DialogDescription",U=r.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,a=w(G,s);return(0,v.jsx)(p.WV.p,{id:a.descriptionId,...r,ref:t})});U.displayName=G;var L="DialogClose",W=r.forwardRef((e,t)=>{let{__scopeDialog:s,...r}=e,i=w(L,s);return(0,v.jsx)(p.WV.button,{type:"button",...r,ref:t,onClick:(0,a.Mj)(e.onClick,()=>i.onOpenChange(!1))})});function V(e){return e?"open":"closed"}W.displayName=L;var K="DialogTitleWarning",[$,Q]=(0,n.k)(K,{contentName:q,titleName:B,docsSlug:"dialog"}),H=({titleId:e})=>{let t=Q(K),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&!document.getElementById(e)&&console.error(s)},[s,e]),null},Y=({contentRef:e,descriptionId:t})=>{let s=Q("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return r.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&!document.getElementById(t)&&console.warn(a)},[a,e,t]),null},X=k,J=S,ee=A,et=C,es=z,er=Z,ea=U,ei=W},10883:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var r=s(5507),a=s(17738),i=s(19899),n=r.forwardRef((e,t)=>(0,i.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=n}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[489,490,175,294,895,899,517,695,242],()=>s(647));module.exports=r})();