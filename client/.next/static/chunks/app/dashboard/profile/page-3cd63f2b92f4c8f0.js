(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5544],{1850:function(t,e,s){Promise.resolve().then(s.bind(s,4786))},4786:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return S}});var r=s(7821),a=s(8078),i=s(8504),n=s(9926),o=s(5427),l=s(8191),u=s(8683),c=s(6963),d=s(7790);let h={all:["profile"],profile:t=>[...h.all,"me",t]};var m=s(9008),f=s(6066),p=s(4852),v=s(5231),x=s(9367),g=s(3507),b=s(3842),y=s(8006),N=s(2547),j=s(2806);let w=(0,s(8322).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);function R(){var t;let{user:e}=(0,n.a)(),s=(0,i.useRouter)(),{data:f,isPending:R,error:S}=(0,o.a)({queryKey:h.profile(),queryFn:c.FZ.getMyProfile,staleTime:3e5,retry:(t,e)=>{var s,r;return(null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.status)!==401&&(null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.status)!==403&&t<3}}),C=function(){let t=(0,l.NL)();return(0,u.D)({mutationFn:t=>c.FZ.updateMyProfile(t),onSuccess:e=>{t.setQueryData(h.profile(),e),(0,d.Am)({title:"Success",description:"Profile updated successfully"})},onError:t=>{var e,s;let r=(null==t?void 0:null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.error)||"Failed to update profile";(0,d.Am)({title:"Error",description:r,variant:"destructive"})}})}(),[E,P]=(0,a.useState)({firstName:"",lastName:"",avatarUrl:"",bio:"",location:""}),[O,A]=(0,a.useState)({});(0,a.useEffect)(()=>{f&&P({firstName:f.firstName||"",lastName:f.lastName||"",avatarUrl:f.avatarUrl||"",bio:f.bio||"",location:f.location||""})},[f]);let M=(t,e)=>{P(s=>({...s,[t]:e})),O[t]&&A(e=>({...e,[t]:""}))},U=()=>{let t={};return E.firstName&&E.firstName.length<1&&(t.firstName="First name must be at least 1 character"),E.lastName&&E.lastName.length<1&&(t.lastName="Last name must be at least 1 character"),E.avatarUrl&&!E.avatarUrl.match(/^https?:\/\/.+/)&&(t.avatarUrl="Avatar URL must be a valid URL"),(null==e?void 0:e.role)===m.UserRole.PROVIDER&&(E.bio&&E.bio.length>500&&(t.bio="Bio must be less than 500 characters"),E.location&&E.location.length>100&&(t.location="Location must be less than 100 characters")),A(t),0===Object.keys(t).length},D=async t=>{if(t.preventDefault(),U())try{await C.mutateAsync(E)}catch(t){}},T=()=>{s.push("/dashboard")};return R?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(p.T,{size:"lg"})}):S?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(N.bZ,{variant:"destructive",className:"max-w-md",children:(0,r.jsxs)(N.X,{children:["Failed to load profile: ",S instanceof Error?S.message:"Unknown error occurred"]})}),(0,r.jsx)(b.z,{variant:"outline",onClick:()=>s.push("/dashboard"),className:"mt-4",children:"Back to Dashboard"})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-background py-8",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(j.aG,{children:(0,r.jsxs)(j.Jb,{children:[(0,r.jsx)(j.gN,{children:(0,r.jsx)(j.At,{href:"/",children:"Home"})}),(0,r.jsx)(j.bg,{}),(0,r.jsx)(j.gN,{children:(0,r.jsx)(j.At,{href:"/dashboard",children:"Dashboard"})}),(0,r.jsx)(j.bg,{}),(0,r.jsx)(j.gN,{children:(0,r.jsx)(j.AG,{children:"Profile"})})]})})}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)(b.z,{variant:"ghost",onClick:T,className:"mb-4 p-0 h-auto font-normal",children:"← Back to Dashboard"}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Edit Profile"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Update your profile information"})]}),(0,r.jsxs)(y.Zb,{children:[(0,r.jsx)(y.Ol,{children:(0,r.jsx)(y.ll,{children:"Profile Information"})}),(0,r.jsx)(y.aY,{children:(0,r.jsxs)("form",{onSubmit:D,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x._,{htmlFor:"firstName",children:"First Name"}),(0,r.jsx)(v.I,{type:"text",id:"firstName",value:E.firstName,onChange:t=>M("firstName",t.target.value),placeholder:"Enter your first name"}),O.firstName&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:O.firstName})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x._,{htmlFor:"lastName",children:"Last Name"}),(0,r.jsx)(v.I,{type:"text",id:"lastName",value:E.lastName,onChange:t=>M("lastName",t.target.value),placeholder:"Enter your last name"}),O.lastName&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:O.lastName})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x._,{htmlFor:"avatarUrl",children:"Avatar URL"}),(0,r.jsx)(v.I,{type:"url",id:"avatarUrl",value:E.avatarUrl,onChange:t=>M("avatarUrl",t.target.value),placeholder:"https://example.com/avatar.jpg"}),O.avatarUrl&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:O.avatarUrl}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:"Enter a URL for your profile picture"})]}),(null==e?void 0:e.role)===m.UserRole.PROVIDER&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x._,{htmlFor:"bio",children:"Bio"}),(0,r.jsx)(g.g,{id:"bio",value:E.bio,onChange:t=>M("bio",t.target.value),placeholder:"Tell potential clients about yourself and your experience...",rows:4}),O.bio&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:O.bio}),(0,r.jsxs)("p",{className:"text-muted-foreground text-sm",children:[(null===(t=E.bio)||void 0===t?void 0:t.length)||0,"/500 characters"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x._,{htmlFor:"location",children:"Location"}),(0,r.jsx)(v.I,{type:"text",id:"location",value:E.location,onChange:t=>M("location",t.target.value),placeholder:"City, State/Country"}),O.location&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:O.location}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:"Where are you located?"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[(0,r.jsx)(b.z,{type:"button",variant:"outline",onClick:T,disabled:C.isPending,children:"Cancel"}),(0,r.jsxs)(b.z,{type:"submit",variant:"default",disabled:C.isPending,children:[(0,r.jsx)(w,{className:"mr-2 h-4 w-4"}),C.isPending?"Saving...":"Save Changes"]})]})]})})]})]})})}function S(){return(0,r.jsx)(f.i,{children:(0,r.jsx)(R,{})})}},4852:function(t,e,s){"use strict";s.d(e,{T:function(){return a}});var r=s(7821);function a(t){let{size:e="md",className:s=""}=t;return(0,r.jsx)("div",{className:"flex justify-center items-center ".concat(s),children:(0,r.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e]," border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin")})})}s(8078)},6066:function(t,e,s){"use strict";s.d(e,{i:function(){return n}});var r=s(7821),a=s(8078),i=s(9926);function n(t){let{children:e}=t,{isAuthenticated:s,isLoading:n}=(0,i.a)();return(console.log("[ProtectedRoute DEBUG] Render - isAuthenticated:",s,"isLoading:",n),(0,a.useEffect)(()=>{console.log("[ProtectedRoute DEBUG] useEffect triggered - isLoading:",n,"isAuthenticated:",s),n||s?!n&&s&&console.log("[ProtectedRoute DEBUG] User is authenticated, allowing access"):(console.log("[ProtectedRoute DEBUG] Not authenticated, redirecting to /login"),window.location.href="/login")},[s,n]),n)?(console.log("[ProtectedRoute DEBUG] Still loading, showing loading spinner"),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})})):s?(console.log("[ProtectedRoute DEBUG] Rendering protected content"),(0,r.jsx)(r.Fragment,{children:e})):(console.log("[ProtectedRoute DEBUG] Not authenticated, returning null"),null)}},2547:function(t,e,s){"use strict";s.d(e,{X:function(){return u},bZ:function(){return l}});var r=s(7821),a=s(8078),i=s(898),n=s(7211);let o=(0,i.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef((t,e)=>{let{className:s,variant:a,...i}=t;return(0,r.jsx)("div",{ref:e,role:"alert",className:(0,n.cn)(o({variant:a}),s),...i})});l.displayName="Alert",a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("h5",{ref:e,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",s),...a})}).displayName="AlertTitle";let u=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("div",{ref:e,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",s),...a})});u.displayName="AlertDescription"},2806:function(t,e,s){"use strict";s.d(e,{AG:function(){return m},At:function(){return h},Jb:function(){return c},aG:function(){return u},bg:function(){return f},gN:function(){return d}});var r=s(7821),a=s(8078),i=s(2625),n=s(898),o=s(7211);let l=(0,n.j)("flex items-center gap-1.5",{variants:{variant:{default:"",ghost:"text-muted-foreground hover:text-foreground"}},defaultVariants:{variant:"default"}}),u=a.forwardRef((t,e)=>{let{className:s,variant:a,separator:n=i.Z,...u}=t;return(0,r.jsx)("nav",{ref:e,"aria-label":"breadcrumb",className:(0,o.cn)(l({variant:a}),s),...u})});u.displayName="Breadcrumb";let c=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("ol",{ref:e,className:(0,o.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",s),...a})});c.displayName="BreadcrumbList";let d=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("li",{ref:e,className:(0,o.cn)("inline-flex items-center gap-1.5",s),...a})});d.displayName="BreadcrumbItem";let h=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("a",{ref:e,className:(0,o.cn)("transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});h.displayName="BreadcrumbLink";let m=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("span",{ref:e,role:"link","aria-disabled":"true","aria-current":"page",className:(0,o.cn)("font-normal text-foreground",s),...a})});m.displayName="BreadcrumbPage";let f=t=>{let{children:e,className:s,...a}=t;return(0,r.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,o.cn)("[&>svg]:h-3.5 [&>svg]:w-3.5",s),...a,children:null!=e?e:(0,r.jsx)(i.Z,{})})};f.displayName="BreadcrumbSeparator"},8006:function(t,e,s){"use strict";s.d(e,{Ol:function(){return o},SZ:function(){return u},Zb:function(){return n},aY:function(){return c},eW:function(){return d},ll:function(){return l}});var r=s(7821),a=s(8078),i=s(7211);let n=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("div",{ref:e,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...a})});n.displayName="Card";let o=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("div",{ref:e,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...a})});o.displayName="CardHeader";let l=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("div",{ref:e,className:(0,i.cn)("font-semibold leading-none tracking-tight",s),...a})});l.displayName="CardTitle";let u=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("div",{ref:e,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})});u.displayName="CardDescription";let c=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("div",{ref:e,className:(0,i.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let d=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("div",{ref:e,className:(0,i.cn)("flex items-center p-6 pt-0",s),...a})});d.displayName="CardFooter"},5231:function(t,e,s){"use strict";s.d(e,{I:function(){return n}});var r=s(7821),a=s(8078),i=s(7211);let n=a.forwardRef((t,e)=>{let{className:s,type:a,...n}=t;return(0,r.jsx)("input",{type:a,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:e,...n})});n.displayName="Input"},9367:function(t,e,s){"use strict";s.d(e,{_:function(){return u}});var r=s(7821),a=s(8078),i=s(5641),n=s(898),o=s(7211);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)(i.f,{ref:e,className:(0,o.cn)(l(),s),...a})});u.displayName=i.f.displayName},3507:function(t,e,s){"use strict";s.d(e,{g:function(){return n}});var r=s(7821),a=s(8078),i=s(7211);let n=a.forwardRef((t,e)=>{let{className:s,...a}=t;return(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:e,...a})});n.displayName="Textarea"},7790:function(t,e,s){"use strict";s.d(e,{Am:function(){return d},pm:function(){return h}});var r=s(8078);let a=0,i=new Map,n=t=>{if(i.has(t))return;let e=setTimeout(()=>{i.delete(t),c({type:"REMOVE_TOAST",toastId:t})},1e6);i.set(t,e)},o=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:s}=e;return s?n(s):t.toasts.forEach(t=>{n(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===s||void 0===s?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},l=[],u={toasts:[]};function c(t){u=o(u,t),l.forEach(t=>{t(u)})}function d(t){let{...e}=t,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:t=>{t||r()}}}),{id:s,dismiss:r,update:t=>c({type:"UPDATE_TOAST",toast:{...t,id:s}})}}function h(){let[t,e]=r.useState(u);return r.useEffect(()=>(l.push(e),()=>{let t=l.indexOf(e);t>-1&&l.splice(t,1)}),[t]),{...t,toast:d,dismiss:t=>c({type:"DISMISS_TOAST",toastId:t})}}},2625:function(t,e,s){"use strict";s.d(e,{Z:function(){return r}});let r=(0,s(8322).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8504:function(t,e,s){"use strict";var r=s(3226);s.o(r,"useParams")&&s.d(e,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(e,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(e,{useSearchParams:function(){return r.useSearchParams}})},5641:function(t,e,s){"use strict";s.d(e,{f:function(){return o}});var r=s(8078),a=s(3184),i=s(7821),n=r.forwardRef((t,e)=>(0,i.jsx)(a.WV.label,{...t,ref:e,onMouseDown:e=>{var s;e.target.closest("button, input, select, textarea")||(null===(s=t.onMouseDown)||void 0===s||s.call(t,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));n.displayName="Label";var o=n},3184:function(t,e,s){"use strict";s.d(e,{WV:function(){return o},jH:function(){return l}});var r=s(8078),a=s(457),i=s(7035),n=s(7821),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((t,e)=>{let s=(0,i.Z8)(`Primitive.${e}`),a=r.forwardRef((t,r)=>{let{asChild:a,...i}=t,o=a?s:e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(o,{...i,ref:r})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function l(t,e){t&&a.flushSync(()=>t.dispatchEvent(e))}},6281:function(t,e,s){"use strict";s.d(e,{R:function(){return o},m:function(){return n}});var r=s(2252),a=s(1384),i=s(7732),n=class extends a.F{#t;#e;#s;#r;constructor(t){super(),this.#t=t.client,this.mutationId=t.mutationId,this.#s=t.mutationCache,this.#e=[],this.state=t.state||o(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#s.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){let e=()=>{this.#a({type:"continue"})},s={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=(0,i.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#a({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#a({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});let r="pending"===this.state.status,a=!this.#r.canStart();try{if(r)e();else{this.#a({type:"pending",variables:t,isPaused:a}),await this.#s.config.onMutate?.(t,this,s);let e=await this.options.onMutate?.(t,s);e!==this.state.context&&this.#a({type:"pending",context:e,variables:t,isPaused:a})}let i=await this.#r.start();return await this.#s.config.onSuccess?.(i,t,this.state.context,this,s),await this.options.onSuccess?.(i,t,this.state.context,s),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(i,null,t,this.state.context,s),this.#a({type:"success",data:i}),i}catch(e){try{throw await this.#s.config.onError?.(e,t,this.state.context,this,s),await this.options.onError?.(e,t,this.state.context,s),await this.#s.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,e,t,this.state.context,s),e}finally{this.#a({type:"error",error:e})}}finally{this.#s.runNext(this)}}#a(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),r.Vr.batch(()=>{this.#e.forEach(e=>{e.onMutationUpdate(t)}),this.#s.notify({mutation:this,type:"updated",action:t})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},8683:function(t,e,s){"use strict";s.d(e,{D:function(){return c}});var r=s(8078),a=s(6281),i=s(2252),n=s(2243),o=s(3506),l=class extends n.l{#t;#i=void 0;#n;#o;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#l()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,o.VS)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(e.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#l(),this.#u(t)}getCurrentResult(){return this.#i}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#l(),this.#u()}mutate(t,e){return this.#o=e,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#l(){let t=this.#n?.state??(0,a.R)();this.#i={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#u(t){i.Vr.batch(()=>{if(this.#o&&this.hasListeners()){let e=this.#i.variables,s=this.#i.context,r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#o.onSuccess?.(t.data,e,s,r),this.#o.onSettled?.(t.data,null,e,s,r)):t?.type==="error"&&(this.#o.onError?.(t.error,e,s,r),this.#o.onSettled?.(void 0,t.error,e,s,r))}this.listeners.forEach(t=>{t(this.#i)})})}},u=s(8191);function c(t,e){let s=(0,u.NL)(e),[a]=r.useState(()=>new l(s,t));r.useEffect(()=>{a.setOptions(t)},[a,t]);let n=r.useSyncExternalStore(r.useCallback(t=>a.subscribe(i.Vr.batchCalls(t)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c=r.useCallback((t,e)=>{a.mutate(t,e).catch(o.ZT)},[a]);if(n.error&&(0,o.L3)(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:c,mutateAsync:n.mutate}}}},function(t){t.O(0,[8803,5427,9808,6518,7115,2364,1744],function(){return t(t.s=1850)}),_N_E=t.O()}]);